/adllc-app/
│
├── backend/
│   ├── main.py               # FastAPI/Flask entry point
│   ├── agents/
│   │   ├── olivia_agent.py
│   │   ├── marion_agent.py
│   │   └── guardian_agent.py
│   ├── auth/
│   │   └── verify_user.py
│   ├── services/
│   │   └── google_ai.py      # Connects to Google AI Studio endpoint
│   ├── requirements.txt
│   └── Dockerfile
│
├── frontend/
│   ├── index.html
│   ├── style.css
│   └── app.js
│
├── cloudbuild.yaml           # Cloud Build trigger config
├── .gcloudignore
├── .gitignore
└── README.md
from fastapi import FastAPI, Request
from agents.olivia_agent import handle_olivia
from agents.marion_agent import handle_marion
from auth.verify_user import verify_identity

app = FastAPI()

@app.get("/")
def root():
    return {"status": "running"}

@app.post("/api/olivia")
async def olivia_endpoint(req: Request):
    data = await req.json()
    user_role = verify_identity(data.get("user_id"), data.get("exec_sequence"))
    response = handle_olivia(data.get("message"), user_role)
    return {"role": user_role, "reply": response}

@app.post("/api/marion")
async def marion_endpoint(req: Request):
    data = await req.json()
    user_role = verify_identity(data.get("user_id"), data.get("exec_sequence"))
    response = handle_marion(data.get("message"), user_role)
    return {"role": user_role, "reply": response}
from services.google_ai import query_google_ai

def handle_olivia(message, role):
    base_prompt = (
        "You are O.L.I.V.I.A., a Black British AI liaison from the near future. "
        "You blend warmth, wit, and precision. Adjust tone based on user role:\n"
        "• Executive: direct and strategic\n"
        "• Client: polished and reassuring\n"
        "• Operator: concise and procedural.\n"
    )
    prompt = f"{base_prompt}\nRole: {role}\nUser: {message}"
    reply = query_google_ai(prompt)
    return reply
from services.google_ai import query_google_ai

def handle_marion(message, role):
    base_prompt = (
        "You are M.A.R.I.O.N., a New York business-minded AI operations director. "
        "Be analytical, pragmatic, and assertive. Adjust tone per role."
    )
    prompt = f"{base_prompt}\nRole: {role}\nUser: {message}"
    reply = query_google_ai(prompt)
    return reply
from google.cloud import firestore

db = firestore.Client()

def verify_identity(user_id, entered_code):
    doc = db.collection("users").document(user_id).get()
    if doc.exists and doc.to_dict().get("exec_sequence") == entered_code:
        return "executive"
    elif doc.exists:
        return doc.to_dict().get("role", "client")
    return "client"
@app.post("/api/change_password")
async def change_password(req: Request):
    data = await req.json()
    user_id = data["user_id"]
    new_pass = data["new_password"]
    confirm_pass = data["confirm_password"]
    if new_pass != confirm_pass:
        return {"status": "error", "msg": "Passwords do not match."}
    db.collection("users").document(user_id).update({"password": hash_password(new_pass)})
    return {"status": "success", "msg": "Password updated."}
